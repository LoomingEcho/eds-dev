const h=async r=>{const{endpoint:a,getJson:d=!1,init:m}=r,n=a.startsWith("/")?a:`/${a}`,o=await fetch(`${window.hlx.codeBasePath}${n}`,m);return d?await o.json():await o.text()};function p(r){const{src:a,alt:d,eager:m=!1,breakpoints:n=[{media:"(min-width: 600px)",width:"2000"},{width:"750"}]}=r,o=new URL(a,window.location.href),c=document.createElement("picture"),{pathname:s}=o,u=s.substring(s.lastIndexOf(".")+1);return n.forEach(t=>{const i=document.createElement("source");t.media&&i.setAttribute("media",t.media),i.setAttribute("type","image/webp"),i.setAttribute("srcset",`${s}?width=${t.width}&format=webply&optimize=medium`),c.appendChild(i)}),n.forEach((t,i)=>{if(i<n.length-1){const e=document.createElement("source");t.media&&e.setAttribute("media",t.media),e.setAttribute("srcset",`${s}?width=${t.width}&format=${u}&optimize=medium`),c.appendChild(e)}else{const e=document.createElement("img");e.setAttribute("loading",m?"eager":"lazy"),e.setAttribute("alt",d),c.appendChild(e),e.setAttribute("src",`${s}?width=${t.width}&format=${u}&optimize=medium`)}}),c}export{p as c,h as f};
//# sourceMappingURL=createOptimizedPicture.WABB6dB3.js.map
