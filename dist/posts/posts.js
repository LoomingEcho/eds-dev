import{j as h,x as w}from"../__chunks__/lit-element.XkUWx5ik.js";import{S as P,f,c as $}from"../__chunks__/createOptimizedPicture.PV-iLxgg.js";const y=a=>{const{postUrl:s,headline:i,text:t,picture:p,buttontext:o}=a;return w`<article><a href="${s}" class="image">${p}</a><h3>${i}</h3><p>${t==null?void 0:t.slice(0,200)}</p><ul class="actions"><li><a href="${s}" class="button">${o||"More"}</a></li></ul></article>`},S=a=>a.map(s=>y(s));async function g(a){a.innerHTML="";const s=new DOMParser,t=(await P.getSiteMap()).filter(e=>e.path.includes("/posts")),u=(await Promise.all(t.map(async e=>await f(`${e.path}.plain.html`)))).map(e=>s.parseFromString(e,"text/html")).map((e,r)=>{var l,n,c,m;return{postUrl:`${window.hlx.codeBasePath}${t[r].path}`,headline:((l=e.querySelector("h1"))==null?void 0:l.innerText)||((n=e.querySelector("h2"))==null?void 0:n.innerText),text:(m=(c=e.querySelector("p"))==null?void 0:c.innerText)==null?void 0:m.trim(),buttontext:t[r].imagealt,picture:$({src:t[r].image,alt:t[r].imagealt})}});a.style.removeProperty("display"),h(S(u),a)}export{g as default};
//# sourceMappingURL=posts.js.map
