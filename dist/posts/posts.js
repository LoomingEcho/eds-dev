import{j as h,x as m}from"../__chunks__/lit-element.XkUWx5ik.js";const u=t=>{const{postUrl:s,headline:o,text:r}=t;return m`<article><a href="${s}" class="image"><img src="images/pic01.jpg" alt=""></a><h3>${o}</h3><p>${r}</p><ul class="actions"><li><a href="${s}" class="button">More</a></li></ul></article>`},w=t=>t.map(s=>u(s));async function P(t){t.innerHTML="";const r=(await(await fetch(`${window.hlx.codeBasePath}/query-index.json`)).json()).data.filter(e=>e.path.includes("/posts")).map(e=>e.path),n=(await Promise.all(r.map(e=>fetch(`${window.hlx.codeBasePath}${e}.plain.html`)))).map(e=>{var a=new DOMParser;return a.parseFromString(e.text(),"text/html")});console.log("postsPreviewHtml",n);const l=n.map((e,a)=>{var i,p,c;return console.log("doc",e),{postUrl:`${window.hlx.codeBasePath}${r[a]}.html`,headline:((i=e.querySelector("h1"))==null?void 0:i.innerText)||((p=e.querySelector("h2"))==null?void 0:p.innerText),text:(c=e.querySelector("p"))==null?void 0:c.innerText}});console.log("posts",l),t.style.removeProperty("display"),h(w(l),t)}export{P as default};
//# sourceMappingURL=posts.js.map
