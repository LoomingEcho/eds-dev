import{j as h,x as u}from"../__chunks__/lit-element.XkUWx5ik.js";import{S as w,f as P,c as f}from"../__chunks__/createOptimizedPicture.PV-iLxgg.js";const y=s=>{const{postUrl:a,headline:i,text:e,picture:p}=s;return u`<article><a href="${a}" class="image">${p}</a><h3>${i}</h3><p>${e==null?void 0:e.slice(0,200)}</p><ul class="actions"><li><a href="${a}" class="button">More</a></li></ul></article>`},S=s=>s.map(a=>y(a));async function x(s){s.innerHTML="";const a=new DOMParser,e=(await w.getSiteMap()).filter(t=>t.path.includes("/posts")),m=(await Promise.all(e.map(async t=>await P(`${t.path}.plain.html`)))).map(t=>a.parseFromString(t,"text/html")).map((t,r)=>{var o,l,n,c;return{postUrl:`${window.hlx.codeBasePath}${e[r].path}`,headline:((o=t.querySelector("h1"))==null?void 0:o.innerText)||((l=t.querySelector("h2"))==null?void 0:l.innerText),text:(c=(n=t.querySelector("p"))==null?void 0:n.innerText)==null?void 0:c.trim(),picture:f({src:e[r].image,alt:e[r].imagealt})}});s.style.removeProperty("display"),h(S(m),s)}export{x as default};
//# sourceMappingURL=posts.js.map
